import os.path

config.suffixes = ['.usyntax']
config.substitutions = list(config.substitutions)

config.substitutions.insert(0, ('%clang_gold', "clang-gold") )
config.substitutions.insert(0, ('%TestBuildRoot', os.path.join(config.test_exec_root, "Gold")) )

# Remove harmful environmental variables for clang Driver tests.
# Some might be useful for other tests so they are only removed here.
driver_overwrite_env_vars = ['MACOSX_DEPLOYMENT_TARGET',
                             'IPHONEOS_DEPLOYMENT_TARGET',
                             'SDKROOT', 'CCC_OVERRIDE_OPTIONS',
                             'CC_PRINT_OPTIONS', 'CC_PRINT_HEADERS',
                             'CC_LOG_DIAGNOSTICS']

for name in driver_overwrite_env_vars:
  if name in config.environment:
    del config.environment[name]